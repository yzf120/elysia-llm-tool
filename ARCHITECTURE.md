[//]: # (# Elysia LLM Tool - æ¶æ„è®¾è®¡æ–‡æ¡£)

[//]: # ()
[//]: # (## ğŸ“ æ¶æ„æ¦‚è§ˆ)

[//]: # ()
[//]: # (Elysia LLM Tool æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„å¤§æ¨¡å‹æ¥å…¥æœåŠ¡ï¼Œä¸ºä¸Šå±‚åº”ç”¨æä¾›æ ‡å‡†åŒ–çš„ RPC æ¥å£ã€‚)

[//]: # ()
[//]: # (```)

[//]: # (â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”)

[//]: # (â”‚                    ä¸Šå±‚åº”ç”¨æœåŠ¡                          â”‚)

[//]: # (â”‚         &#40;elysia-backend, elysia-chat-agent, etc.&#41;       â”‚)

[//]: # (â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜)

[//]: # (                     â”‚ tRPC è°ƒç”¨)

[//]: # (                     â†“)

[//]: # (â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”)

[//]: # (â”‚              Elysia LLM Tool &#40;æœ¬æœåŠ¡&#41;                    â”‚)

[//]: # (â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚)

[//]: # (â”‚  â”‚           RPC æ¥å£å±‚ &#40;Proto&#41;                     â”‚   â”‚)

[//]: # (â”‚  â”‚  - StreamChat &#40;æµå¼å¯¹è¯&#41;                        â”‚   â”‚)

[//]: # (â”‚  â”‚  - Chat &#40;æ™®é€šå¯¹è¯&#41;                              â”‚   â”‚)

[//]: # (â”‚  â”‚  - ListModels &#40;æ¨¡å‹åˆ—è¡¨&#41;                        â”‚   â”‚)

[//]: # (â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚)

[//]: # (â”‚                     â†“                                    â”‚)

[//]: # (â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚)

[//]: # (â”‚  â”‚         æœåŠ¡å®ç°å±‚ &#40;Service&#41;                     â”‚   â”‚)

[//]: # (â”‚  â”‚  - è¯·æ±‚è·¯ç”±                                      â”‚   â”‚)

[//]: # (â”‚  â”‚  - å‚æ•°è½¬æ¢                                      â”‚   â”‚)

[//]: # (â”‚  â”‚  - å“åº”å°è£…                                      â”‚   â”‚)

[//]: # (â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚)

[//]: # (â”‚                     â†“                                    â”‚)

[//]: # (â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚)

[//]: # (â”‚  â”‚         å®¢æˆ·ç«¯ç®¡ç†å±‚ &#40;Client&#41;                    â”‚   â”‚)

[//]: # (â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚)

[//]: # (â”‚  â”‚  â”‚  è±†åŒ…     â”‚  â”‚  æ··å…ƒ     â”‚  â”‚ DeepSeek â”‚     â”‚   â”‚)

[//]: # (â”‚  â”‚  â”‚ Client   â”‚  â”‚ Client   â”‚  â”‚ Client   â”‚     â”‚   â”‚)

[//]: # (â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚)

[//]: # (â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚)

[//]: # (â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜)

[//]: # (                     â”‚ HTTP/SDK è°ƒç”¨)

[//]: # (                     â†“)

[//]: # (â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”)

[//]: # (â”‚                  ç¬¬ä¸‰æ–¹å¤§æ¨¡å‹æœåŠ¡                        â”‚)

[//]: # (â”‚         è±†åŒ… API    æ··å…ƒ API    DeepSeek API            â”‚)

[//]: # (â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜)

[//]: # (```)

[//]: # ()
[//]: # (## ğŸ—ï¸ åˆ†å±‚è®¾è®¡)

[//]: # ()
[//]: # (### 1. RPC æ¥å£å±‚ &#40;Proto&#41;)

[//]: # ()
[//]: # (**èŒè´£ï¼š**)

[//]: # (- å®šä¹‰ç»Ÿä¸€çš„æœåŠ¡æ¥å£)

[//]: # (- å®šä¹‰æ ‡å‡†çš„æ•°æ®ç»“æ„)

[//]: # (- æ”¯æŒæµå¼å’Œéæµå¼è°ƒç”¨)

[//]: # ()
[//]: # (**æ ¸å¿ƒæ¥å£ï¼š**)

[//]: # (```protobuf)

[//]: # (service LLMService {)

[//]: # (  rpc StreamChat &#40;StreamChatRequest&#41; returns &#40;stream StreamChatResponse&#41;;)

[//]: # (  rpc Chat &#40;ChatRequest&#41; returns &#40;ChatResponse&#41;;)

[//]: # (  rpc ListModels &#40;ListModelsRequest&#41; returns &#40;ListModelsResponse&#41;;)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (**è®¾è®¡åŸåˆ™ï¼š**)

[//]: # (- æ¥å£ç»Ÿä¸€ï¼šæ‰€æœ‰æ¨¡å‹ä½¿ç”¨ç›¸åŒçš„æ¥å£)

[//]: # (- å‚æ•°æ ‡å‡†åŒ–ï¼šç»Ÿä¸€çš„æ¶ˆæ¯æ ¼å¼å’Œå‚æ•°)

[//]: # (- æ‰©å±•æ€§ï¼šæ”¯æŒé€šè¿‡ extra_params ä¼ é€’ç‰¹æ®Šå‚æ•°)

[//]: # ()
[//]: # (### 2. æœåŠ¡å®ç°å±‚ &#40;Service&#41;)

[//]: # ()
[//]: # (**èŒè´£ï¼š**)

[//]: # (- å®ç° RPC æ¥å£)

[//]: # (- è·¯ç”±è¯·æ±‚åˆ°å¯¹åº”çš„æ¨¡å‹æä¾›å•†)

[//]: # (- è½¬æ¢æ•°æ®æ ¼å¼)

[//]: # (- å¤„ç†æµå¼å“åº”)

[//]: # ()
[//]: # (**æ ¸å¿ƒé€»è¾‘ï¼š**)

[//]: # (```go)

[//]: # (func &#40;s *LLMServiceImpl&#41; StreamChat&#40;ctx, req, stream&#41; error {)

[//]: # (    // 1. æ ¹æ® model_id è¯†åˆ«æä¾›å•†)

[//]: # (    provider := getProviderFromModelID&#40;req.ModelId&#41;)

[//]: # (    )
[//]: # (    // 2. è·¯ç”±åˆ°å¯¹åº”çš„å®ç°)

[//]: # (    switch provider {)

[//]: # (    case "doubao":)

[//]: # (        return s.streamChatDoubao&#40;ctx, req, stream&#41;)

[//]: # (    case "hunyuan":)

[//]: # (        return s.streamChatHunyuan&#40;ctx, req, stream&#41;)

[//]: # (    // ...)

[//]: # (    })

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (**è®¾è®¡åŸåˆ™ï¼š**)

[//]: # (- å•ä¸€èŒè´£ï¼šæ¯ä¸ªæ–¹æ³•åªå¤„ç†ä¸€ç§æ¨¡å‹)

[//]: # (- æ ¼å¼è½¬æ¢ï¼šç»Ÿä¸€çš„è¾“å…¥è¾“å‡ºæ ¼å¼)

[//]: # (- é”™è¯¯å¤„ç†ï¼šç»Ÿä¸€çš„é”™è¯¯è¿”å›)

[//]: # ()
[//]: # (### 3. å®¢æˆ·ç«¯ç®¡ç†å±‚ &#40;Client&#41;)

[//]: # ()
[//]: # (**èŒè´£ï¼š**)

[//]: # (- ç®¡ç†å„ä¸ªæ¨¡å‹çš„ SDK å®¢æˆ·ç«¯)

[//]: # (- å•ä¾‹æ¨¡å¼ï¼Œé¿å…é‡å¤åˆ›å»º)

[//]: # (- é…ç½®ç®¡ç†)

[//]: # ()
[//]: # (**å®ç°æ–¹å¼ï¼š**)

[//]: # (```go)

[//]: # (var &#40;)

[//]: # (    doubaoClient     *arkruntime.Client)

[//]: # (    doubaoClientOnce sync.Once)

[//]: # (&#41;)

[//]: # ()
[//]: # (func GetDoubaoClient&#40;&#41; *arkruntime.Client {)

[//]: # (    doubaoClientOnce.Do&#40;func&#40;&#41; {)

[//]: # (        cfg := config.GetConfig&#40;&#41;)

[//]: # (        doubaoClient = arkruntime.NewClientWithApiKey&#40;)

[//]: # (            cfg.DoubaoAPIKey,)

[//]: # (            arkruntime.WithBaseUrl&#40;cfg.DoubaoBaseURL&#41;,)

[//]: # (        &#41;)

[//]: # (    }&#41;)

[//]: # (    return doubaoClient)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (**è®¾è®¡åŸåˆ™ï¼š**)

[//]: # (- æ‡’åŠ è½½ï¼šæŒ‰éœ€åˆå§‹åŒ–)

[//]: # (- å•ä¾‹æ¨¡å¼ï¼šå…¨å±€å”¯ä¸€å®ä¾‹)

[//]: # (- é…ç½®éš”ç¦»ï¼šæ¯ä¸ªå®¢æˆ·ç«¯ç‹¬ç«‹é…ç½®)

[//]: # ()
[//]: # (### 4. é…ç½®ç®¡ç†å±‚ &#40;Config&#41;)

[//]: # ()
[//]: # (**èŒè´£ï¼š**)

[//]: # (- ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é…ç½®)

[//]: # (- ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®)

[//]: # (- æä¾›é»˜è®¤å€¼)

[//]: # ()
[//]: # (**é…ç½®é¡¹ï¼š**)

[//]: # (```go)

[//]: # (type Config struct {)

[//]: # (    // è±†åŒ…é…ç½®)

[//]: # (    DoubaoAPIKey  string)

[//]: # (    DoubaoBaseURL string)

[//]: # (    )
[//]: # (    // æ··å…ƒé…ç½®)

[//]: # (    HunyuanSecretID  string)

[//]: # (    HunyuanSecretKey string)

[//]: # (    )
[//]: # (    // DeepSeeké…ç½®)

[//]: # (    DeepSeekAPIKey  string)

[//]: # (    DeepSeekBaseURL string)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (## ğŸ”„ æ•°æ®æµè½¬)

[//]: # ()
[//]: # (### æµå¼å¯¹è¯æµç¨‹)

[//]: # ()
[//]: # (```)

[//]: # (å®¢æˆ·ç«¯è¯·æ±‚)

[//]: # (    â†“)

[//]: # ([1] RPC æ¥å£æ¥æ”¶è¯·æ±‚)

[//]: # (    â†“)

[//]: # ([2] æœåŠ¡å±‚è¯†åˆ«æ¨¡å‹æä¾›å•†)

[//]: # (    â†“)

[//]: # ([3] è½¬æ¢ä¸ºæä¾›å•†æ ¼å¼)

[//]: # (    â†“)

[//]: # ([4] è°ƒç”¨æä¾›å•† SDK)

[//]: # (    â†“)

[//]: # ([5] æ¥æ”¶æµå¼å“åº”)

[//]: # (    â†“)

[//]: # ([6] è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼)

[//]: # (    â†“)

[//]: # ([7] é€šè¿‡ stream è¿”å›)

[//]: # (    â†“)

[//]: # (å®¢æˆ·ç«¯æ¥æ”¶)

[//]: # (```)

[//]: # ()
[//]: # (### æ•°æ®è½¬æ¢ç¤ºä¾‹)

[//]: # ()
[//]: # (**è¾“å…¥ï¼ˆç»Ÿä¸€æ ¼å¼ï¼‰ï¼š**)

[//]: # (```go)

[//]: # (&pb.StreamChatRequest{)

[//]: # (    ModelId: "doubao-seed-1-6-lite-251015",)

[//]: # (    Messages: []*pb.ChatMessage{)

[//]: # (        {)

[//]: # (            Role: "user",)

[//]: # (            Content: []*pb.ContentPart{)

[//]: # (                {Type: "text", Text: "ä½ å¥½"},)

[//]: # (            },)

[//]: # (        },)

[//]: # (    },)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (**è½¬æ¢ä¸ºè±†åŒ…æ ¼å¼ï¼š**)

[//]: # (```go)

[//]: # (&model.CreateChatCompletionRequest{)

[//]: # (    Model: "doubao-seed-1-6-lite-251015",)

[//]: # (    Messages: []*model.ChatCompletionMessage{)

[//]: # (        {)

[//]: # (            Role: model.ChatMessageRoleUser,)

[//]: # (            Content: &model.ChatCompletionMessageContent{)

[//]: # (                StringValue: &"ä½ å¥½",)

[//]: # (            },)

[//]: # (        },)

[//]: # (    },)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (**è¾“å‡ºï¼ˆç»Ÿä¸€æ ¼å¼ï¼‰ï¼š**)

[//]: # (```go)

[//]: # (&pb.StreamChatResponse{)

[//]: # (    Id: "chatcmpl-xxx",)

[//]: # (    Model: "doubao-seed-1-6-lite-251015",)

[//]: # (    Choices: []*pb.Choice{)

[//]: # (        {)

[//]: # (            Delta: &pb.Delta{)

[//]: # (                Content: "ä½ å¥½ï¼",)

[//]: # (            },)

[//]: # (        },)

[//]: # (    },)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (## ğŸ¯ è®¾è®¡æ¨¡å¼)

[//]: # ()
[//]: # (### 1. ç­–ç•¥æ¨¡å¼)

[//]: # ()
[//]: # (ä¸åŒçš„æ¨¡å‹æä¾›å•†ä½¿ç”¨ä¸åŒçš„ç­–ç•¥ï¼š)

[//]: # ()
[//]: # (```go)

[//]: # (type ModelStrategy interface {)

[//]: # (    StreamChat&#40;ctx, req, stream&#41; error)

[//]: # (    Chat&#40;ctx, req&#41; &#40;*pb.ChatResponse, error&#41;)

[//]: # (})

[//]: # ()
[//]: # (type DoubaoStrategy struct{})

[//]: # (type HunyuanStrategy struct{})

[//]: # (type DeepSeekStrategy struct{})

[//]: # (```)

[//]: # ()
[//]: # (### 2. å•ä¾‹æ¨¡å¼)

[//]: # ()
[//]: # (å®¢æˆ·ç«¯ç®¡ç†ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼š)

[//]: # ()
[//]: # (```go)

[//]: # (var &#40;)

[//]: # (    instance *Client)

[//]: # (    once     sync.Once)

[//]: # (&#41;)

[//]: # ()
[//]: # (func GetClient&#40;&#41; *Client {)

[//]: # (    once.Do&#40;func&#40;&#41; {)

[//]: # (        instance = newClient&#40;&#41;)

[//]: # (    }&#41;)

[//]: # (    return instance)

[//]: # (})

[//]: # (```)

[//]: # ()
[//]: # (### 3. é€‚é…å™¨æ¨¡å¼)

[//]: # ()
[//]: # (å°†ä¸åŒæä¾›å•†çš„æ¥å£é€‚é…ä¸ºç»Ÿä¸€æ¥å£ï¼š)

[//]: # ()
[//]: # (```go)

[//]: # (func convertToDoubaoMessages&#40;messages []*pb.ChatMessage&#41; []*model.ChatCompletionMessage)

[//]: # (func convertDoubaoResponse&#40;resp *model.ChatCompletionResponse&#41; *pb.ChatResponse)

[//]: # (```)

[//]: # ()
[//]: # (## ğŸ” å®‰å…¨è®¾è®¡)

[//]: # ()
[//]: # (### 1. API Key ç®¡ç†)

[//]: # ()
[//]: # (- ä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œä¸ç¡¬ç¼–ç )

[//]: # (- æ”¯æŒ .env æ–‡ä»¶é…ç½®)

[//]: # (- å¯åŠ¨æ—¶éªŒè¯å¿…è¦é…ç½®)

[//]: # ()
[//]: # (### 2. é”™è¯¯å¤„ç†)

[//]: # ()
[//]: # (- ç»Ÿä¸€çš„é”™è¯¯è¿”å›æ ¼å¼)

[//]: # (- è¯¦ç»†çš„æ—¥å¿—è®°å½•)

[//]: # (- ä¸æš´éœ²æ•æ„Ÿä¿¡æ¯)

[//]: # ()
[//]: # (### 3. è¶…æ—¶æ§åˆ¶)

[//]: # ()
[//]: # (- æµå¼è¯·æ±‚æ”¯æŒé•¿è¶…æ—¶ï¼ˆ60ç§’ï¼‰)

[//]: # (- æ™®é€šè¯·æ±‚ä½¿ç”¨é»˜è®¤è¶…æ—¶)

[//]: # (- æ”¯æŒå®¢æˆ·ç«¯è‡ªå®šä¹‰è¶…æ—¶)

[//]: # ()
[//]: # (## ğŸ“Š æ€§èƒ½ä¼˜åŒ–)

[//]: # ()
[//]: # (### 1. è¿æ¥å¤ç”¨)

[//]: # ()
[//]: # (- å®¢æˆ·ç«¯å•ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»º)

[//]: # (- SDK å†…éƒ¨è¿æ¥æ± ç®¡ç†)

[//]: # ()
[//]: # (### 2. æµå¼ä¼ è¾“)

[//]: # ()
[//]: # (- å®æ—¶è¿”å›ï¼Œé™ä½é¦–å­—å»¶è¿Ÿ)

[//]: # (- å‡å°‘å†…å­˜å ç”¨)

[//]: # ()
[//]: # (### 3. å¹¶å‘æ§åˆ¶)

[//]: # ()
[//]: # (- ä½¿ç”¨ sync.Once ä¿è¯å•ä¾‹)

[//]: # (- æ— é”è®¾è®¡ï¼Œæé«˜å¹¶å‘æ€§èƒ½)

[//]: # ()
[//]: # (## ğŸ”§ æ‰©å±•æ€§è®¾è®¡)

[//]: # ()
[//]: # (### æ·»åŠ æ–°æ¨¡å‹æä¾›å•†)

[//]: # ()
[//]: # (1. åœ¨ `client/` ä¸‹åˆ›å»ºæ–°çš„å®¢æˆ·ç«¯æ–‡ä»¶)

[//]: # (2. åœ¨ `service/llm_service_impl.go` ä¸­æ·»åŠ æ–°çš„å®ç°æ–¹æ³•)

[//]: # (3. åœ¨ `getProviderFromModelID` ä¸­æ·»åŠ è¯†åˆ«é€»è¾‘)

[//]: # (4. åœ¨ `ListModels` ä¸­æ·»åŠ æ¨¡å‹ä¿¡æ¯)

[//]: # ()
[//]: # (### æ·»åŠ æ–°åŠŸèƒ½)

[//]: # ()
[//]: # (1. åœ¨ `proto/llm/llm.proto` ä¸­å®šä¹‰æ–°æ¥å£)

[//]: # (2. è¿è¡Œ `make proto` ç”Ÿæˆä»£ç )

[//]: # (3. åœ¨ `service/` ä¸­å®ç°æ¥å£)

[//]: # (4. æ›´æ–°æ–‡æ¡£)

[//]: # ()
[//]: # (## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—)

[//]: # ()
[//]: # (### æ—¥å¿—çº§åˆ«)

[//]: # ()
[//]: # (- Debug: è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯)

[//]: # (- Info: å…³é”®æ“ä½œæ—¥å¿—)

[//]: # (- Error: é”™è¯¯ä¿¡æ¯)

[//]: # ()
[//]: # (### å…³é”®æŒ‡æ ‡)

[//]: # ()
[//]: # (- è¯·æ±‚é‡ï¼ˆQPSï¼‰)

[//]: # (- å“åº”æ—¶é—´)

[//]: # (- é”™è¯¯ç‡)

[//]: # (- Token ä½¿ç”¨é‡)

[//]: # ()
[//]: # (## ğŸš€ éƒ¨ç½²å»ºè®®)

[//]: # ()
[//]: # (### å•æœºéƒ¨ç½²)

[//]: # ()
[//]: # (```bash)

[//]: # (./start.sh)

[//]: # (```)

[//]: # ()
[//]: # (### Docker éƒ¨ç½²)

[//]: # ()
[//]: # (```dockerfile)

[//]: # (FROM golang:1.21)

[//]: # (WORKDIR /app)

[//]: # (COPY . .)

[//]: # (RUN make build)

[//]: # (CMD ["./elysia-llm-tool"])

[//]: # (```)

[//]: # ()
[//]: # (### K8s éƒ¨ç½²)

[//]: # ()
[//]: # (```yaml)

[//]: # (apiVersion: apps/v1)

[//]: # (kind: Deployment)

[//]: # (metadata:)

[//]: # (  name: elysia-llm-tool)

[//]: # (spec:)

[//]: # (  replicas: 3)

[//]: # (  template:)

[//]: # (    spec:)

[//]: # (      containers:)

[//]: # (      - name: llm-tool)

[//]: # (        image: elysia-llm-tool:latest)

[//]: # (        ports:)

[//]: # (        - containerPort: 9001)

[//]: # (```)

[//]: # ()
[//]: # (## ğŸ“ æœ€ä½³å®è·µ)

[//]: # ()
[//]: # (1. **é…ç½®ç®¡ç†**ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œä¸è¦ç¡¬ç¼–ç )

[//]: # (2. **é”™è¯¯å¤„ç†**ï¼šè¯¦ç»†è®°å½•æ—¥å¿—ï¼Œå‹å¥½è¿”å›é”™è¯¯)

[//]: # (3. **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨æµå¼ä¼ è¾“ï¼Œå‡å°‘å»¶è¿Ÿ)

[//]: # (4. **ä»£ç è§„èŒƒ**ï¼šéµå¾ª Go ä»£ç è§„èŒƒï¼Œä¿æŒä¸€è‡´æ€§)

[//]: # (5. **æ–‡æ¡£æ›´æ–°**ï¼šåŠæ—¶æ›´æ–°æ–‡æ¡£ï¼Œä¿æŒåŒæ­¥)

[//]: # ()
[//]: # (## ğŸ”® æœªæ¥è§„åˆ’)

[//]: # ()
[//]: # (1. **å¤šæ¨¡å‹æ”¯æŒ**ï¼šæ¥å…¥æ›´å¤šå¤§æ¨¡å‹)

[//]: # (2. **è´Ÿè½½å‡è¡¡**ï¼šæ”¯æŒå¤šå®ä¾‹éƒ¨ç½²)

[//]: # (3. **é™æµç†”æ–­**ï¼šä¿æŠ¤æœåŠ¡ç¨³å®šæ€§)

[//]: # (4. **ç›‘æ§å‘Šè­¦**ï¼šå®Œå–„ç›‘æ§ä½“ç³»)

[//]: # (5. **æ€§èƒ½ä¼˜åŒ–**ï¼šæŒç»­ä¼˜åŒ–æ€§èƒ½)
